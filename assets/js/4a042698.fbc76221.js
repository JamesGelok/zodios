"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[557],{3905:(e,n,t)=>{t.d(n,{Zo:()=>c,kt:()=>f});var o=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e,n){if(null==e)return{};var t,o,i=function(e,n){if(null==e)return{};var t,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var s=o.createContext({}),u=function(e){var n=o.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):p(p({},n),e)),t},c=function(e){var n=u(e.components);return o.createElement(s.Provider,{value:n},e.children)},l={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},d=o.forwardRef((function(e,n){var t=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,c=a(e,["components","mdxType","originalType","parentName"]),d=u(t),f=i,m=d["".concat(s,".").concat(f)]||d[f]||l[f]||r;return t?o.createElement(m,p(p({ref:n},c),{},{components:t})):o.createElement(m,p({ref:n},c))}));function f(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=t.length,p=new Array(r);p[0]=d;var a={};for(var s in n)hasOwnProperty.call(n,s)&&(a[s]=n[s]);a.originalType=e,a.mdxType="string"==typeof e?e:i,p[1]=a;for(var u=2;u<r;u++)p[u]=t[u];return o.createElement.apply(null,p)}return o.createElement.apply(null,t)}d.displayName="MDXCreateElement"},9067:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>p,default:()=>l,frontMatter:()=>r,metadata:()=>a,toc:()=>u});var o=t(7462),i=(t(7294),t(3905));const r={sidebar_position:3},p="OpenAPI",a={unversionedId:"api/openapi",id:"api/openapi",title:"OpenAPI",description:"Zodios API definition to OpenAPI",source:"@site/docs/api/openapi.md",sourceDirName:"api",slug:"/api/openapi",permalink:"/docs/api/openapi",draft:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"API definition helpers",permalink:"/docs/api/helpers"},next:{title:"Examples",permalink:"/docs/api/examples"}},s={},u=[{value:"Zodios API definition to OpenAPI",id:"zodios-api-definition-to-openapi",level:2},{value:"Examples",id:"examples",level:3},{value:"swagger-ui-express",id:"swagger-ui-express",level:3},{value:"OpenAPI to Zodios API definition",id:"openapi-to-zodios-api-definition",level:2}],c={toc:u};function l(e){let{components:n,...t}=e;return(0,i.kt)("wrapper",(0,o.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"openapi"},"OpenAPI"),(0,i.kt)("h2",{id:"zodios-api-definition-to-openapi"},"Zodios API definition to OpenAPI"),(0,i.kt)("p",null,"Zodios api definition format while simple can contain sufficient information to generate an OpenAPI documentation."),(0,i.kt)("p",null,"To generate an OpenAPI documentation from your api definition, you can use the ",(0,i.kt)("inlineCode",{parentName:"p"},"toOpenApi")," method of ",(0,i.kt)("inlineCode",{parentName:"p"},"@zodios/openapi")," package."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},"function toOpenApi(\n  api: ZodiosApiDefinition,\n  options?: {\n    info?: OpenAPIV3.InfoObject\n    servers?: OpenAPIV3.ServerObject[];\n  }\n): OpenAPIV3.Document;\n")),(0,i.kt)("h3",{id:"examples"},"Examples"),(0,i.kt)("h3",{id:"swagger-ui-express"},"swagger-ui-express"),(0,i.kt)("p",null,"You can expose your OpenAPI documentation with the ",(0,i.kt)("inlineCode",{parentName:"p"},"@zodios/express")," package."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-ts"},'import { serve, setup } from "swagger-ui-express";\nimport { makeApi } from "@zodios/core";\nimport { zodiosApp, zodiosRouter } from "@zodios/express";\nimport { toOpenApi } from "@zodios/openapi";\nimport { userApi } from "./api";\nimport { userRouter } from \'./userRouter\';\n\nconst app = zodiosApp();\n\n// expose user api endpoints\napp.use(\'/api/v1\', userRouter);\n\n// expose openapi documentation\nconst document = toOpenApi(userApi, {\n  info: {\n    title: "User API",\n    version: "1.0.0",\n    description: "A simple user API",\n  },\n  servers: [\n    {\n      url: "/api/v1", // base path of user api\n    },\n  ],\n});\n\napp.use(`/docs/swagger.json`, (_, res) => res.json(document));\napp.use("/docs", serve);\napp.use("/docs", setup(undefined, { swaggerUrl: "/docs/swagger.json" }));\n\napp.listen(3000);\n')),(0,i.kt)("h2",{id:"openapi-to-zodios-api-definition"},"OpenAPI to Zodios API definition"),(0,i.kt)("p",null,"If you want to use an existing OpenAPI documentation to generate your Zodios API definition, you can use the ",(0,i.kt)("a",{parentName:"p",href:"https://github.com/astahmer/openapi-zod-client"},"openapi-zod-client")," package."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-bash"},'npx openapi-zod-client "swagger.json" -o "zodios-client.ts"\n')))}l.isMDXComponent=!0}}]);